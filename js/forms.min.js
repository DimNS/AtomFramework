var atomForms=function(){var a=function(){$("body").on("click",".forma_submit",function(){var a=$(this),b=a.attr("data-forma");if($("#"+b+"_forma").validationEngine("validate"))switch(b){case"user_reg":atomAJAX.blockWaiter("show"),$.ajax({url:window.pathRoot+"/user/add",data:{ajax:!0,name:$("#forma_reg_name").val(),email:$("#forma_reg_email").val()},success:function(a,b,c){atomCore.windowClose("user_reg"),atomCore.showMessage(a.code,a.text)},complete:function(){atomAJAX.blockWaiter("hide")},error:function(a,b,c){atomAJAX.showError(b,c)}});break;case"user_lost":atomAJAX.blockWaiter("show"),$.ajax({url:window.pathRoot+"/user/lost_password",data:{ajax:!0,email:$("#forma_lost_email").val()},success:function(a,b,c){atomCore.windowClose("user_lost"),atomCore.showMessage(a.code,a.text)},complete:function(){atomAJAX.blockWaiter("hide")},error:function(a,b,c){atomAJAX.showError(b,c)}});break;case"user_save":atomAJAX.blockWaiter("show"),$.ajax({url:window.pathRoot+"/user/save",data:{ajax:!0,name:$("#forma_users_save_name").val(),password:$("#forma_users_save_password").val(),newpassword:$("#forma_users_save_newpassword").prop("checked")},success:function(a,b,c){$(".userinfo_name").text($("#forma_users_save_name").val()),atomCore.showMessage(a.code,a.text)},complete:function(){atomAJAX.blockWaiter("hide")},error:function(a,b,c){atomAJAX.showError(b,c)}})}})};return{init:a}}();atomForms.init();
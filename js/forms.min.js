$("body").on("click",".forma_submit",function(){var a=$(this),b=a.attr("data-forma");if($("#"+b+"_forma").validationEngine("validate"))switch(b){case"user_reg":ajax_waiter("show"),$.ajax({url:pathRoot+"/user/add",data:{ajax:!0,name:$("#forma_reg_name").val(),email:$("#forma_reg_email").val()},success:function(a){windowClose("user_reg"),showMessage(a.code,a.text)},complete:function(){ajax_waiter("hide")},error:function(a,b,c){ajax_error(b,c)}});break;case"user_lost":ajax_waiter("show"),$.ajax({url:pathRoot+"/user/lost_password",data:{ajax:!0,email:$("#forma_lost_email").val()},success:function(a){windowClose("user_lost"),showMessage(a.code,a.text)},complete:function(){ajax_waiter("hide")},error:function(a,b,c){ajax_error(b,c)}});break;case"user_save":ajax_waiter("show"),$.ajax({url:pathRoot+"/user/save",data:{ajax:!0,name:$("#forma_users_save_name").val(),password:$("#forma_users_save_password").val(),newpassword:$("#forma_users_save_newpassword").prop("checked")},success:function(a){$(".userinfo_name").text($("#forma_users_save_name").val()),showMessage(a.code,a.text)},complete:function(){ajax_waiter("hide")},error:function(a,b,c){ajax_error(b,c)}})}});
var atomCore=function(){var c=function(){$("body").on("click",".wnd_open",function(){atomCore.windowOpen($(this).attr("data-id"))}),$("body").on("click",".wnd_close",function(){atomCore.windowClose($(this).attr("data-id"))}),$("body").on("click","#window_overlay",function(){"NaN"!=atomCore.windowActive&&atomCore.windowClose(atomCore.windowActive)}),$("#alerts-container .close").click(function(){$(this).parent().hide()}),$("#show_hide_password").click(function(){$(this).hasClass("fa-unlock-alt")?($('input[name="password"]').attr("type","password"),$(this).removeClass("fa-unlock-alt").addClass("fa-lock")):($('input[name="password"]').attr("type","text"),$(this).removeClass("fa-lock").addClass("fa-unlock-alt"))}),window.mobileBrowser||$("select.select2_wtags").select2({tags:!0,width:"100%"}),""!=window.messageText&&atomCore.showMessage(window.messageCode,window.messageText),$(".icheck").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),$(".bootstrap-toggle").bootstrapToggle({onstyle:"success",offstyle:"danger"}),$("#forma_users_save_newpassword").change(function(){$(this).prop("checked")?$("#user_profile_newpwd_block").removeClass("hide"):$("#user_profile_newpwd_block").addClass("hide")})},d=function(a){$("#"+a).hasClass("window_layer")?(atomCore.iScrolled=$(window).scrollTop(),$(window).scrollTop(0),$("#container_all").css("position","fixed"),$("#container_all").css("margin-top","-"+atomCore.iScrolled+"px"),$("#"+a).css("display","block").show(),"changelog"==a&&(atomCore.windowActive=a,atomAJAX.blockWaiter("show"),$.ajax({url:window.pathRoot+"/changelog",data:{ajax:!0},success:function(a,b,c){"success"==a.code?$("#changelog .modal-body").html(a.content):atomCore.showMessage(a.code,a.text,!0)},complete:function(){atomAJAX.blockWaiter("hide")},error:function(a,b,c){atomAJAX.showError(b,c)}}))):$("#"+a).css({top:Math.max(0,($(window).height()-$("#"+a).outerHeight())/2)+"px",left:Math.max(0,($(window).width()-$("#"+a).outerWidth())/2)+"px"}).show(),$("#window_overlay").show(),atomCore.windowActive=a},e=function(a){switch(a){case"changelog":$.ajax({url:window.pathRoot+"/changelog/check"})}$("#"+a).hasClass("window_layer")?($("#container_all").css("margin-top","0px"),$("#container_all").css("position","absolute"),$(window).scrollTop(atomCore.iScrolled),$("#"+a).css("display","none")):$("#"+a).hide(),$("#window_overlay").hide(),atomCore.windowActive="NaN"},f=function(a){atomCore.windowActive="atom_confirm","newWidth"in a?$("#atom_confirm").css({width:a.newWidth}):$("#atom_confirm").css({width:"400px"}),"htmlTitle"in a?$("#atom_confirm .modal-title").html(a.htmlTitle):$("#atom_confirm .modal-title").html("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),"htmlBody"in a?$("#atom_confirm .modal-body").html(a.htmlBody):$("#atom_confirm .modal-body").html("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?"),"butOK"in a?("title"in a.butOK?$("#atom_confirm_ok").text(a.butOK.title):$("#atom_confirm_ok").text("OK"),"class"in a.butOK?$("#atom_confirm_ok").removeClass().addClass("btn "+a.butOK["class"]):$("#atom_confirm_ok").removeClass().addClass("btn btn-primary"),"func"in a.butOK?$("#atom_confirm_ok").unbind("click").bind("click",function(){a.butOK.func(),atomCore.windowClose("atom_confirm")}):$("#atom_confirm_ok").unbind("click").bind("click",function(){atomCore.windowClose("atom_confirm")})):$("#atom_confirm_ok").text("OK").removeClass().addClass("btn btn-primary").unbind("click").bind("click",function(){atomCore.windowClose("atom_confirm")}),"butCancel"in a?("title"in a.butCancel?$("#atom_confirm_cancel").text(a.butCancel.title):$("#atom_confirm_cancel").text("\u041e\u0442\u043c\u0435\u043d\u0430"),"class"in a.butCancel?$("#atom_confirm_cancel").removeClass().addClass("btn pull-left "+a.butCancel["class"]):$("#atom_confirm_cancel").removeClass().addClass("btn pull-left btn-default"),"func"in a.butCancel?$("#atom_confirm_cancel").unbind("click").bind("click",function(){a.butCancel.func(),atomCore.windowClose("atom_confirm")}):$("#atom_confirm_cancel").unbind("click").bind("click",function(){atomCore.windowClose("atom_confirm")})):$("#atom_confirm_cancel").text("\u041e\u0442\u043c\u0435\u043d\u0430").removeClass().addClass("btn pull-left btn-default").unbind("click").bind("click",function(){atomCore.windowClose("atom_confirm")}),"butThird"in a?("title"in a.butThird?$("#atom_confirm_third").text(a.butThird.title):$("#atom_confirm_third").text("\u0422\u0440\u0435\u0442\u044c\u044f \u043a\u043d\u043e\u043f\u043a\u0430"),"class"in a.butThird?$("#atom_confirm_third").removeClass().addClass("btn "+a.butThird["class"]):$("#atom_confirm_third").removeClass().addClass("btn btn-primary"),"func"in a.butThird?$("#atom_confirm_third").unbind("click").bind("click",function(){a.butThird.func(),atomCore.windowClose("atom_confirm")}):$("#atom_confirm_third").unbind("click").bind("click",function(){atomCore.windowClose("atom_confirm")}),$("#atom_confirm_third").show()):$("#atom_confirm_third").hide(),$("#atom_confirm").css({top:Math.max(0,($(window).height()-$("#atom_confirm").outerHeight())/2)+"px",left:Math.max(0,($(window).width()-$("#atom_confirm").outerWidth())/2)+"px"}).show(),$("#window_overlay").show()},g=function(a,b,c){c=c||!1,c?($("#alerts-container .alert-"+a+" span").html(b),$("#"+atomCore.windowActive+" .modal-alert").remove(),$("#"+atomCore.windowActive+" .modal-body").prepend('<div class="modal-alert alert alert-'+a+'">'+$("#alerts-container .alert-"+a).html()+"</div>"),$("#"+atomCore.windowActive+" .modal-alert .close").hide()):($("#alerts-container .alert").hide(),$("#alerts-container .alert-"+a+" span").html(b),$("#alerts-container .alert-"+a).show()),$("html,body").animate({scrollTop:0},"slow")};return{init:c,windowOpen:d,windowClose:e,showConfirm:f,showMessage:g}}();atomCore.init();